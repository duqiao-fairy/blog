### 小程序笔记
1. 要考虑多种情况 wx:if=”{{data}}” wx:elif 和 wx:else

2. 在做 CSS 时,考虑是否要定高，数据的可变性会不会对视图发生影响，如会影响，应该使用绝对定位属性。

3. “+=”是什么意思？  

> int i = 1;
  int sum = 0;
  sum = sum + i; //这个意思
  sum += i;  //这是简写

4. 小程序中 canvas 案例
```
// canvas.js
Page({
  canvasIdErrorCallback: function (e) {
    console.error(e.detail.errMsg)
  },
  onReady: function (e) {
    // 使用 wx.createContext 获取绘图上下文 context
    var context = wx.createCanvasContext('firstCanvas')

    context.setStrokeStyle("#00ff00")
    context.setLineWidth(5)
    context.rect(0, 0, 200, 200)
    context.stroke()
    context.setStrokeStyle("#ff0000")
    context.setLineWidth(2)
    context.moveTo(160, 100)
    context.arc(100, 100, 60, 0, 2 * Math.PI, true)
    context.moveTo(140, 100)
    context.arc(100, 100, 40, 0, Math.PI, false)
    context.moveTo(85, 80)
    context.arc(80, 80, 5, 0, 2 * Math.PI, true)
    context.moveTo(125, 80)
    context.arc(120, 80, 5, 0, 2 * Math.PI, true)
    context.stroke()
    context.draw()
  }
})
```

5. 判断返回要判断其 result_code，存在且为某一值时才能确定内容已经提交到服务器上去了。

6. 小程序中 radio 加入 name 要加载 radio-group 中，form 提交才会有数据

7. 父元素使用了 opacity 之后，子元素也会透明化，即使你设置了子元素`opacity：1.`   正确的做法是在父元素的`background:rgba(0,0,0,0.8)`

8. typeof(“supper”) 判断变量，字符串的类型，输出 number,string 等

9. 小程序的 text 是没办法绑定事件的

10. change 和 input 事件的区别：change 是指输入完成，input 每输入一个都会触发事件

12. pow() 方法可返回 x 的 y 次幂的值。语法`Math.pow(x,y)`

13. 引用 github 中的图片
> https://raw.githubusercontent.com/zxpsuper/picture/master/bird.png

14. toFixed() 可把 Number 四舍五入为指定小数位数的数字。

15. config.js 用于写配置的路径,最后需将所有的路径包装到一个对象中 config ,然后 module.exports = config 输出它.
引入CONFIG即在所需的JS页面const host = require('config').host
括号内为与 config 的相对路径

16. App.json 用于注册页面,配置顶栏 window 和底栏 tabbar

17. 轮播图 swiper 中包含 swiper-item 包含 image 标签,更多的 props 查看官方文档即可

18. 小程序页面跳转的方式:
```
 <navigator url=””>
 wx.navigateTo({ }) 
 wx.navigateBack({ })
 wx.redirectTo({ })
```

19. wx:key 使用与开关组件 `<switch>/<input>`
可使其对应的数组改变是，switch 位置也随之改变 wx:key=”参数”，参数为数值的 key
保留关键字 *this 代表在 for 循环中的 item 本身，这种表示需要 item 本身是一个唯一的字符串或者数字

20. 页面传递参数的方法：

(1) url传参
```
<navigator url="/pages/project/happysixone/happy?id={{item._id}}" class="nav">
```
然后在新页面的onload生命周期中`this.setData({id: options.id,})`

(2) setStorage
在一个页面`wx.setStorageSync('jwt', jwt)`
在一个新的页面`var logs = wx.getStorageSync('jwt')`

21. 同步数据缓存与异步数据缓存的区别：

> wx.setStorage ('jwt', jwt)——异步
wx.setStorageSync('jwt', jwt)——同步
以Sync（同步，同时）结尾的都是都是同步缓存，二者的区别是，异步不会阻塞当前任务，同步缓存直到同步方法处理完才能继续往下执行。

22. var app = getApp() 写于PAGE({})前，page中才可以引用app.js中的方法，引用方法为app.方法（）

23. 获取当前事件对应值

> let projectId = e.currentTarget.id（id为属性值）
e.currentTarget.dataset.haha，即获取标签中的 data-haha=”{{index}}”
{{index}}可使列表渲染时带上索引
想查看更多可以 console.log(e) 查看

24. 更多事件
```
bindtap 
bindload——当src的值为网络图片的时候，动态改变src后，图片重新加载，bindload事件触发。当src的值为base64的时候，动态改变src后，图片重新加载，但是bindload事件没有触发。
bindsubmit ——form事件
bindinput
touchstart 
touchmove  
touchcancel
tap 短触
longtap 长按
上述为冒泡事件
Catchtap 为阻止冒泡时间
submit   input  scroll  等为非冒泡事件
```

25. 路径中含有多个参数，参数之间用&间隔开

26. Image 的几种模式

scaleToFill  
不保持纵横比缩放图片，使图片的宽高完全拉伸至填满 image 元素

aspectFit 
保持纵横比缩放图片，使图片的长边能完全显示出来。也就是说，可以完整地将图片显示出来。

aspectFill  
保持纵横比缩放图片，只保证图片的短边能完全显示出来。也就是说，图片通常只在水平或垂直方向是完整的，另一个方向将会发生截取。

widthFix  
宽度不变，高度自动变化，保持原图宽高比不变（常用）

27. 引入外部模板组件

```
14.<import src="../../../templates/news.wxml" />
<template is="htmltowxml" data="{{content}}" />
```
模板内容：
命名，传入组件 data
```
<template name="htmltowxml">
    <block wx:for="{{content}}"  wx:for-index="idy"  wx:for-item="cellData" wx:key="item">……</block>
</template>
```

28. 微信小程序一些 API

wx.request
wx.setClipboardData    
wx.getClipboardData
wx.showModal
wx.setNavigationBarTitle
wx.makePhoneCall
this.setData({})
wx.setNavigationBarTitle

29. wx:for="{{content}}" 列表循环遍历
wx:for-item=”haha” item的二级循环遍历，后面可用haha.XXX来获取数据
注意：wx:for-item=”haha” 这个没有括号

30. 0x10000 是十六进制数字，0x 代表 16 进制，10000 为所代表的数字

31. JSON.parse(str)  JSON.stringify(a) 

32. 画三角形

```
.triangle-up {
  width: 0;
  height: 0;
  border-left: 20rpx solid transparent;
  border-right: 20rpx solid transparent;
  border-bottom: 20rpx solid #f9f9f9;
  position: relative;
  left: 52rpx;
  top: -14rpx;
}
```

33. 给标签配上索引  data-haha={{index}} 然后在标签内部便可以使用 index

14. 转化为字符串的方法—— string（value）

toString() 是将布尔值转化为字符串
canvas 中 ctx.fillText(txt1, 0, 0);的 txt1 的类型为字符串或数字

35. 为了不让用户在使用小程序时造成困扰，我们规定页面路径只能是五层，请尽量避免多层级的交互方式。因此当页面路径大于5时可以用 wx.redirectTo 代替wx.navigateTo

36. 对 this.data.... 进行操作时，js 中的 this.data.... 会改变，但是不会渲染，要重新渲染需要重新 this.setData({}) 才可以

37. 小程序上传图片实现
原理：选择图片后上传到后端服务器，后端将上传的图片放置于某些地方生成路径后返回路径给前端，前端收到返回引用图片的路径

38. 小程序文本 {{data == 5 ? ‘’ ：‘’}} 无法做这种处理，只能在 js 中处理

